apiVersion: 1

providers:
  # Node Exporter Dashboards
  - name: 'node-exporter-dashboards'
    orgId: 1
    folder: 'Node Exporter'
    type: file
    disableDeletion: false  # 允许删除
    updateIntervalSeconds: 30
    allowUiUpdates: true    # 允许通过UI更新
    options:
      path: /var/lib/grafana/dashboards/node_exporter.json
      foldersFromFilesStructure: false

  # MySQL Exporter Dashboards
  - name: 'mysql-exporter-dashboards'
    orgId: 1
    folder: 'MySQL'
    type: file
    disableDeletion: false
    updateIntervalSeconds: 30
    options:
      path: /var/lib/grafana/dashboards/mysqld_exporter.json

  - name: 'flask-backend-dashboards'
    orgId: 1
    folder: 'Other Monitoring'
    type: file
    disableDeletion: false
    updateIntervalSeconds: 30
    options:
      path: /var/lib/grafana/dashboards/flask_dashboard.json
      foldersFromFilesStructure: true  # 根据文件结构创建子文件夹